function f(e){return e?(/^[a-zA-Z][a-zA-Z\d+\-.]*:\/\//.test(e)||(e="https://"+e),e):""}function L(e={}){let d=document.getElementById(e.urlInputId||"urlInput"),p=document.getElementById(e.goBtnId||"goBtn"),y=document.getElementById(e.openTopBtnId||"openTopBtn"),n=document.getElementById(e.frameId||"browserFrame"),a=document.getElementById(e.overlayId||"overlay"),s=document.getElementById(e.statusId||"status"),l=document.getElementById(e.explainId||"explain"),I=document.getElementById(e.openNowId||"openNow"),g=document.getElementById(e.tryAgainId||"tryAgain");async function m(t){a.classList.add("hidden"),n.src=t,s.textContent="Loading...",l.textContent="";let o=!1,u=setTimeout(()=>{o=!0,i(t)},2200),E=()=>{if(clearTimeout(u),o)return;let c=!1;try{let r=n.contentDocument;(!r||!r.documentElement||r.documentElement.innerHTML.trim()==="")&&(c=!0)}catch{c=!1}c?i(t):a.classList.add("hidden")},B=()=>{clearTimeout(u),i(t)};n.addEventListener("load",E,{once:!0}),n.addEventListener("error",B,{once:!0})}function i(t){a.classList.remove("hidden"),s.textContent="This site cannot be displayed inside an iframe.",l.innerHTML="Many websites prevent embedding for security reasons (headers like <code>X-Frame-Options</code> or CSP <code>frame-ancestors</code>). You can open the site in a new tab, or use an official integration if available.",I.onclick=()=>window.open(t,"_blank","noopener"),g.onclick=()=>{a.classList.add("hidden"),n.src=t}}p.addEventListener("click",()=>{let t=d.value.trim(),o=f(t);if(!o)return alert("Enter a URL");m(o)}),y.addEventListener("click",()=>{let t=f(d.value.trim());if(!t)return alert("Enter a URL");window.open(t,"_blank","noopener")}),d.value||(d.value="https://example.com",m("https://example.com"))}export{L as default};
